<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JORDY & Tú • 7 Meses 2025</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body, html { height:100%; font-family:'Poppins',sans-serif; color:#fff; overflow:hidden; }
    
    /* Fondo de estrellas precioso y sin lag */
    body {
      background: #0d0a1f url('https://images.unsplash.com/photo-1538370965046-79c0d6907d47?ixlib=rb-4.0.3&q=90') center/cover no-repeat fixed;
    }
    .overlay { 
      position:fixed; inset:0; background:rgba(10,5,35,0.85); backdrop-filter:blur(4px); 
    }

    .section {
      position:absolute; inset:0; padding:5vh 8vw;
      display:flex; flex-direction:column; justify-content:center; align-items:center; text-align:center;
      opacity:0; transform:translateX(100%); transition:all 0.5s ease;
    }
    .section.active { opacity:1; transform:translateX(0); z-index:2; }
    .section.prev { transform:translateX(-100%); }

    .title {
      font-size:5.5rem; font-weight:900;
      background:linear-gradient(90deg,#c792ea,#8be9fd,#ff79c6);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
      text-shadow:0 0 40px rgba(135,92,255,0.6); margin-bottom:1rem;
    }
    .subtitle { font-size:2.5rem; font-weight:700; margin:1rem 0; }

    .img-mes {
      width:320px; height:320px; object-fit:cover; border-radius:28px;
      box-shadow:0 20px 50px rgba(0,0,0,0.7); margin:2rem 0;
    }

    .text-block {
      background:rgba(30,20,90,0.8); backdrop-filter:blur(16px);
      border:1px solid rgba(140,100,255,0.4); border-radius:24px;
      padding:1.8rem 2.5rem; max-width:800px; margin:1rem 0;
      box-shadow:0 15px 40px rgba(0,0,0,0.5);
    }

    .btn {
      background:linear-gradient(135deg,#7289da,#5865f2); color:white; border:none;
      padding:16px 45px; border-radius:50px; font-size:1.4rem; font-weight:700;
      cursor:pointer; box-shadow:0 12px 30px rgba(88,101,242,0.6);
      transition:all 0.3s; margin:2rem 1rem;
    }
    .btn:hover { transform:scale(1.08); box-shadow:0 20px 50px rgba(88,101,242,0.8); }

    /* Flechas de navegación como Spotify */
    .nav-arrows {
      position:fixed; top:30px; left:30px; z-index:100;
      display:flex; gap:15px;
    }
    .nav-btn {
      background:rgba(0,0,0,0.5); backdrop-filter:blur(10px);
      border:none; color:white; width:50px; height:50px; border-radius:50%;
      font-size:1.8rem; cursor:pointer; transition:all 0.3s;
    }
    .nav-btn:hover { background:#5865f2; transform:scale(1.1); }
    .nav-btn:disabled { opacity:0.3; cursor:not-allowed; }

    .progress {
      position:fixed; bottom:0; left:0; height:6px;
      background:linear-gradient(90deg,#8be9fd,#ff79c6); width:0%; transition:width 0.5s ease;
    }
  </style>
</head>
<body>

  <div class="overlay"></div>

  <!-- Flechas navegación -->
  <div class="nav-arrows">
    <button class="nav-btn" id="prev-btn" onclick="prev()">←</button>
    <button class="nav-btn" id="next-btn" onclick="next()">→</button>
  </div>

  <!-- Portada -->
  <section id="s0" class="section active">
    <h1 class="title">CHECKPOINT 2025</h1>
    <h2 class="subtitle">7 meses juntos</h2>
    <div class="text-block">
      <p class="fs-1" id="dias-juntos">cargando…</p>
      <p class="fs-3">Novios virtuales que se quieren en 8K ❤️</p>
    </div>
    <button class="btn" onclick="next()">Empezar el recorrido</button>
  </section>

  <!-- Contenedor meses -->
  <div id="meses-container"></div>

  <!-- Juegos -->
  <section id="juegos" class="section">
    <h1 class="title">Top 5 juegos donde fuimos leyenda</h1>
    <div id="juegos-grid" class="d-flex flex-wrap justify-content-center gap-5"></div>
  </section>

  <!-- Final -->
  <section id="final" class="section">
    <h1 class="title">Canción que más me sonó a ti</h1>
    <div class="text-block fs-2 mb-5" id="cancion-principal"></div>
    <h1 class="title">Momentos que nunca olvidaremos</h1>
    <div id="momentos-grid" class="row g-4 justify-content-center"></div>
  </section>

  <div class="progress" id="progress"></div>

  <script>
    let current = 0;
    const sections = [];

    function updateNav() {
      document.getElementById('prev-btn').disabled = current === 0;
      document.getElementById('next-btn').disabled = current === sections.length - 1;
      document.getElementById('progress').style.width = (current / (sections.length - 1) * 100) + '%';
    }

    function next() {
      if (current >= sections.length - 1) return;
      sections[current].classList.add('prev');
      current++;
      sections[current].classList.add('active');
      updateNav();
    }

    function prev() {
      if (current <= 0) return;
      sections[current].classList.remove('active');
      current--;
      sections[current].classList.remove('prev');
      sections[current].classList.add('active');
      updateNav();
    }

    // Cargar datos
    fetch('datos.json')
      .then(r => r.json())
      .then(data => {
        const inicio = new Date(data.fecha_inicio);
        const hoy = new Date();
        const dias = Math.floor((hoy - inicio) / 86400000);
        document.getElementById('dias-juntos').innerHTML = `<strong>${dias}</strong> días juntos y contando… ❤️`;

        document.getElementById('cancion-principal').textContent = data.cancion_principal;

        // Portada
        sections.push(document.getElementById('s0'));

        // Cada mes una pantalla
        const container = document.getElementById('meses-container');
        data.meses.forEach((mes, i) => {
          const sec = document.createElement('section');
          sec.className = 'section';
          sec.innerHTML = `
            <h1 class="title">Mes ${mes.mes}</h1>
            <h2 class="subtitle">${mes.titulo}</h2>
            <img src="${mes.foto}" class="img-mes">
            <div class="text-block">
              <p class="fs-3"><strong>Canción dedicada:</strong><br>${mes.cancion_dedicada}</p>
            </div>
            <div class="text-block">
              ${mes.momentos.map(m => `<p class="fs-4">• ${m}</p>`).join('')}
            </div>
          `;
          container.appendChild(sec);
          sections.push(sec);
        });

        // Juegos
        const juegosSec = document.getElementById('juegos');
        const juegosGrid = document.getElementById('juegos-grid');
        data.juegos_top.forEach(j => {
          juegosGrid.innerHTML += `
            <div>
              <img src="${j.portada}" style="width:180px;height:180px;object-fit:cover;border-radius:50%;border:5px solid #8be9fd;box-shadow:0 0 30px #8be9fd;">
              <h3 class="mt-3">${j.nombre}</h3>
              <p>${j.stats}</p>
            </div>
          `;
        });
        sections.push(juegosSec);

        // Final
        const finalSec = document.getElementById('final');
        const momentosGrid = document.getElementById('momentos-grid');
        data.top_momentos.forEach((m, i) => {
          momentosGrid.innerHTML += `
            <div class="col-md-6">
              <div class="text-block">
                <h3>#${i+1}</h3>
                <p class="fs-4">${m}</p>
              </div>
            </div>
          `;
        });
        sections.push(finalSec);

        updateNav();
      });
  </script>
</body>
</html>
