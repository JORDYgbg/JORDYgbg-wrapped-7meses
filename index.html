<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>JORDY & Tú • 7 Meses 2025</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700;800;900&display=swap" rel="stylesheet">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; }
    body, html { height:100%; font-family:'Poppins',sans-serif; color:#fff; }
    
    body {
      background: #0a0518 url('https://images.unsplash.com/photo-1538370965046-79c0d6907d47?ixlib=rb-4.0.3&q=90') center/cover no-repeat fixed;
    }
    .overlay { position:fixed; inset:0; background:rgba(8,5,30,0.88); backdrop-filter:blur(5px); }

    .section {
      position:absolute; inset:0; padding:120px 10vw 80px; overflow-y:auto;
      opacity:0; transform:translateX(100%); transition:all 0.5s ease;
    }
    .section.active { opacity:1; transform:translateX(0); z-index:2; }
    .section.prev { transform:translateX(-100%); }

    .title {
      font-size:5rem; font-weight:900; text-align:center; margin-bottom:1.5rem;
      background:linear-gradient(90deg,#c792ea,#8be9fd,#ff79c6);
      -webkit-background-clip:text; -webkit-text-fill-color:transparent;
    }
    .subtitle { font-size:2.4rem; font-weight:700; text-align:center; margin:1rem 0 3rem; }

    .content {
      background:rgba(25,20,80,0.85); backdrop-filter:blur(18px);
      border:1px solid rgba(140,100,255,0.4); border-radius:28px;
      padding:3rem 2.5rem; max-width:900px; margin:0 auto 3rem;
      box-shadow:0 20px 60px rgba(0,0,0,0.6);
      line-height:1.8;
    }
    .content h3 { font-size:2rem; margin:1.5rem 0 1rem; color:#8be9fd; }
    .content p { font-size:1.4rem; margin:1rem 0; }

    .game-grid {
      display:grid; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); gap:3rem; margin:3rem 0;
    }
    .game-card img {
      width:180px; height:180px; object-fit:cover; border-radius:50%;
      border:6px solid #8be9fd; box-shadow:0 0 40px rgba(139,233,253,0.7);
    }
    .game-card h4 { margin:1rem 0 0.5rem; font-size:1.5rem; }

    .nav-arrows {
      position:fixed; top:30px; left:30px; z-index:100; display:flex; gap:15px;
    }
    .nav-btn {
      background:rgba(0,0,0,0.5); backdrop-filter:blur(10px); border:none; color:white;
      width:56px; height:56px; border-radius:50%; font-size:2rem; cursor:pointer;
      transition:all 0.3s;
    }
    .nav-btn:hover:not(:disabled) { background:#5865f2; transform:scale(1.15); }
    .nav-btn:disabled { opacity:0.3; cursor:not-allowed; }

    .progress { position:fixed; bottom:0; left:0; height:8px;
      background:linear-gradient(90deg,#8be9fd,#ff79c6); width:0%; transition:width 0.5s ease; }
  </style>
</head>
<body>

  <div class="overlay"></div>

  <!-- Flechas de navegación -->
  <div class="nav-arrows">
    <button class="nav-btn" id="prev-btn" onclick="prev()">←</button>
    <button class="nav-btn" id="next-btn" onclick="next()">→</button>
  </div>

  <!-- Portada -->
  <section id="s0" class="section active">
    <div class="content text-center">
      <h1 class="title">CHECKPOINT 2025</h1>
      <h2 class="subtitle">7 meses juntos</h2>
      <p class="fs-1" id="dias-juntos">cargando…</p>
      <p class="fs-3 mt-4">Novios virtuales que se quieren en 8K ❤️</p>
      <button class="nav-btn mt-5" style="width:auto;padding:1rem 3rem;font-size:1.8rem;" onclick="next()">Empezar</button>
    </div>
  </section>

  <!-- Contenedor meses -->
  <div id="meses-container"></div>

  <!-- Juegos -->
  <section id="juegos" class="section">
    <div class="content text-center">
      <h1 class="title">Top 5 juegos donde fuimos leyenda</h1>
      <div class="game-grid" id="juegos-grid"></div>
    </div>
  </section>

  <!-- Final -->
  <section id="final" class="section">
    <div class="content text-center">
      <h1 class="title">Canción que más me sonó a ti</h1>
      <p class="fs-2 mb-5" id="cancion-principal"></p>

      <h1 class="title">Momentos que nunca olvidaremos</h1>
      <div id="momentos-grid"></div>
    </div>
  </section>

  <div class="progress" id="progress"></div>

  <script>
    let current = 0;
    const sections = [];

    function updateNav() {
      document.getElementById('prev-btn').disabled = current === 0;
      document.getElementById('next-btn').disabled = current === sections.length - 1;
      document.getElementById('progress').style.width = (current / (sections.length - 1) * 100) + '%';
    }

    function next() { if (current < sections.length - 1) { sections[current].classList.add('prev'); current++; sections[current].classList.add('active'); updateNav(); window.scrollTo(0,0); } }
    function prev() { if (current > 0) { sections[current].classList.remove('active'); current--; sections[current].classList.remove('prev'); sections[current].classList.add('active'); updateNav(); window.scrollTo(0,0); } }

    fetch('datos.json')
      .then(r => r.json())
      .then(data => {
        const inicio = new Date(data.fecha_inicio);
        const hoy = new Date();
        const dias = Math.floor((hoy - inicio) / 86400000);
        document.getElementById('dias-juntos').innerHTML = `<strong>${dias}</strong> días juntos y contando… ❤️`;

        document.getElementById('cancion-principal').textContent = data.cancion_principal;

        // Portada
        sections.push(document.getElementById('s0'));

        // Cada mes con scroll
        const container = document.getElementById('meses-container');
        data.meses.forEach((mes, i) => {
          const sec = document.createElement('section');
          sec.className = 'section';
          sec.innerHTML = `
            <div class="content">
              <h1 class="title">Mes ${mes.mes}</h1>
              <h2 class="subtitle">${mes.titulo}</h2>
              <h3>Canción dedicada:</h3>
              <p class="fs-3 mb-4">${mes.cancion_dedicada}</p>
              ${mes.momentos.map(m => `<p class="fs-4">• ${m}</p>`).join('')}
            </div>
          `;
          container.appendChild(sec);
          sections.push(sec);
        });

        // Juegos (solo imágenes redondas)
        const juegosGrid = document.getElementById('juegos-grid');
        data.juegos_top.forEach(j => {
          juegosGrid.innerHTML += `
            <div class="game-card text-center">
              <img src="${j.portada}">
              <h4>${j.nombre}</h4>
              <p>${j.stats}</p>
            </div>
          `;
        });
        sections.push(document.getElementById('juegos'));

        // Momentos finales
        const momentosGrid = document.getElementById('momentos-grid');
        data.top_momentos.forEach((m, i) => {
          momentosGrid.innerHTML += `<p class="fs-3 mb-4">#${i+1} → ${m}</p>`;
        });
        sections.push(document.getElementById('final'));

        updateNav();
      });
  </script>
</body>
</html>
